trigger:
- main

#strategy:
# matrix:
#   linux:
#     operatingSystem: "ubuntu-latest"
#   mac:
#     operatingSystem: 'macos-latest'
  
pool:
  vmImage: $(operatingSystem)

stages:
- stage : Build 
  jobs: 
  - job: BuildJob
    steps: 
    - bash: echo 'Do the build'
- stage: DevDeploy
  jobs:  
  - deployment: DevDeploy
    environment: dev
    strategy:
      runOnce:
        deploy:
          steps: 
          - script: echo deploy to dev
- stage: QADeploy
  jobs:  
  - deployment: QADeploy
    environment: QA
    strategy:
      runOnce:
        deploy:
          steps: 
          - script: echo deploy to QA
- script: |
    echo Add other tasks to build, test, and deploy your project.
    echo See https://aka.ms/yaml
  displayName: 'Run a multi-line script'
